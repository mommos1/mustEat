<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.board.mappers.board">

<!--  게시물 목록 -->
<select id="list" resultType="com.board.domain.BoardVO">
 		select
	bno, name, phone, address, message, viewCnt
from musteat_jokbal;
</select>

<!-- 게시물 작성 -->
<insert id="contact" parameterType="com.board.domain.BoardVO">
 insert into
  musteat_jokbal(name, phone, address, message)
   values(#{name}, #{phone}, #{address}, #{message})
</insert>

<update id="insertBoardMessage" parameterType="hashmap">
				
				INSERT INTO `board`.`musteat_list`
				(`bno`,
				`name`,
				`phone`,
				`address`,
				`message`,
				`viewCnt`)
			
			VALUES
			
				(#{bno}
				#{name},
				#{phone},
				#{address},
				#{message},
				'0')

</update>

<!-- 게시물 조회 -->
<select id="jokbal_view" parameterType="int" resultType="com.board.domain.BoardVO">

 select 
		bno,name,phone,address,message,viewCnt
from 
		musteat_jokbal
 where
 		bno = #{bno}   
  
</select>

<update id="jokbal_modify" parameterType="com.board.domain.BoardVO" >

 update musteat_jokbal
  set
   name = #{name},
   phone = #{phone},
   address = #{address},
   message = #{message}
  where bno = #{bno}
  
</update>

<!-- 댓글작성 -->
<insert id="jokbal_commentwrite" parameterType="com.board.domain.BoardVO">
 insert into
  musteat_comment(name, content)
   values(#{name}, #{content})
</insert>

<!-- 댓글보기 -->
<select id="jokbal_comment" resultType="com.board.domain.BoardVO">

select
		bno,name,content,regDate
 from musteat_comment;
</select>

<!-- 회원가입 정보발송 -->
<insert id="memberJoin" parameterType="com.board.domain.BoardVO">

		insert into member(userId, userPass, userName, userPhon, userAddr1, userAddr2, userAddr3, regiDate)
  		values(#{userId}, #{userPass}, #{userName}, #{userPhon}, #{userAddr1}, #{userAddr2}, #{userAddr3}, sysdate() )

  	</insert>
  	
<!-- 로그인 회원정보 확인 -->
<select id="memberLogin" resultType="com.board.domain.BoardVO">
      
         select 
         		userId, userName, userPass, userPhon, userAddr1, userAddr2, userAddr3, regiDate 
         from 
         		member 
         where 
         		userId = #{userId} and userPass = #{userPass}
      
      </select>
</mapper>
